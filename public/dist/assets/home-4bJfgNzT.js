const e=e=>{const t=document.getElementById("activities-grid"),n=document.getElementById("activities-empty");t&&n&&(t.innerHTML="",e.length?(n.hidden=!0,e.forEach(e=>{const n=document.createElement("article");n.className="activity-card",n.innerHTML=`\n            <div>\n                <p class="eyebrow">${e.category||"نشاط خاص"}</p>\n                <h3>${e.title}</h3>\n                <p>${e.description}</p>\n            </div>\n            <a href="${(e=>{if(!e)return"#";try{return new URL(e,window.location.origin).href}catch{return e}})(e.link)}" class="link-arrow">زيارة الصفحة</a>\n        `,t.appendChild(n)})):n.hidden=!1)};(e=>{let t=!1;const n=()=>{t||(t=!0,e())};"loading"===document.readyState?(document.addEventListener("DOMContentLoaded",n,{once:!0}),window.addEventListener("load",n,{once:!0}),window.addEventListener("pageshow",n,{once:!0})):("function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e))(n)})(()=>{(()=>{const e=document.querySelector(".mobile-toggle"),t=document.querySelector(".primary-nav");e&&t&&e.addEventListener("click",()=>{t.classList.toggle("open"),e.classList.toggle("open")})})(),(async()=>{try{const t=await fetch("/public-activities");if(!t.ok)throw new Error("Failed to load activities");const n=await t.json();e(n)}catch(t){e([])}})()});